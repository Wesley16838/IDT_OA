{"ast":null,"code":"import _classCallCheck from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';// import axios from 'axios';\nimport{withRouter}from'react-router-dom';var Historylist=/*#__PURE__*/function(_Component){_inherits(Historylist,_Component);function Historylist(props){var _this;_classCallCheck(this,Historylist);_this=_possibleConstructorReturn(this,_getPrototypeOf(Historylist).call(this,props));_this.top=function(e){var num=e.target.value;_this.setState({newtop:num});};_this.date=function(e){var date=e.target.value;_this.setState({date:date});};_this.submit=function(e){e.preventDefault();var locations=_this.state.locations;//original \n// var newlocations = this.state.newlocations;//new location\nvar num=_this.state.locations.length;//original \nvar newnum=_this.state.newtop;//Input num  \nvar date=_this.state.date;//date user input\nvar new_locations=[];//tmp\n//Both Nothing\nif(date===''&&newnum===''){_this.setState({newlocations:locations});}//if date is nothing\nif(date===''){//if num > new location number\nif(newnum>_this.state.locations.length){alert('Number must smaller than the number of element in the list!');}else{//if input is nothing\nif(newnum===''){newnum=_this.state.locations.length;}for(var i=0;i<newnum;i++){new_locations.push(locations[i]);}_this.setState({newlocations:new_locations});}}else{var arr=date.split('-');//user input\nvar arr_next=[];var arr_before=[];if(_this.state.newtop===''){for(var j=0;j<num;j++){arr_before=locations[j].time.split('-');arr[1]=arr[1].replace('0','');if(arr[0]===arr_before[0]&&arr[1]===arr_before[1]&&arr[2]===arr_before[2]){arr_next.push(locations[j]);}}_this.setState({newlocations:arr_next});}else{for(var l=0;l<num;l++){arr_before=locations[l].time.split('-');arr[1]=arr[1].replace('0','');if(arr[0]===arr_before[0]&&arr[1]===arr_before[1]&&arr[2]===arr_before[2]){arr_next.push(locations[l]);}}var datelength=arr_next.length;if(newnum>datelength){alert('Number must smaller than the number of element in the list!');}else{var n=arr_next.length-newnum-1;for(var k=n;k>=0;k--){arr_next.pop();}_this.setState({newlocations:arr_next,datelocations:datelength});}}}};_this.state={locations:_this.props.locations.reverse(),newlocations:_this.props.locations,top:_this.props.locations.length,newtop:'',err:null,date:'',datelocations:0};return _this;}_createClass(Historylist,[{key:\"render\",value:function render(){var section=null;section=this.state.newlocations&&this.state.newlocations.map(function(next,i){return React.createElement(\"li\",{key:i},i+1,\". Ip Address: \",next.ip,\" - Date: \",next.time);});return React.createElement(\"div\",{className:\"historylist\"},React.createElement(\"form\",{className:\"filtertop\",onSubmit:this.submit},React.createElement(\"div\",{className:\"filter\"},React.createElement(\"input\",{type:\"number\",id:\"top\",onChange:this.top,placeholder:\"Search for top N...\"}),React.createElement(\"p\",{className:\"error\"},this.state.errtop)),React.createElement(\"div\",{className:\"filter\"},React.createElement(\"input\",{type:\"date\",id:\"date\",onChange:this.date,placeholder:\"Search for date...\"}),React.createElement(\"p\",{className:\"error\"},this.state.errdate)),React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Search\")),React.createElement(\"ol\",null,section));}}]);return Historylist;}(Component);export default withRouter(Historylist);","map":{"version":3,"sources":["/Users/wesley/Desktop/idt/client/src/Components/historyList.js"],"names":["React","Component","withRouter","Historylist","props","top","e","num","target","value","setState","newtop","date","submit","preventDefault","locations","state","length","newnum","new_locations","newlocations","alert","i","push","arr","split","arr_next","arr_before","j","time","replace","l","datelength","n","k","pop","datelocations","reverse","err","section","map","next","ip","errtop","errdate"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import axios from 'axios';\nimport {\n    withRouter\n  } from 'react-router-dom'\nclass Historylist extends Component {\n  constructor(props) {\n   \n    super(props);\n   \n    this.state = {\n       locations:this.props.locations.reverse(),\n       newlocations:this.props.locations,\n\n       top:this.props.locations.length,\n       newtop:'',\n       \n       err:null,\n       date:'',\n       datelocations:0\n    }\n    \n  }\n  \n  top = e =>{\n    var num = e.target.value;    \n    this.setState({newtop:num}) \n  }\n \n  date = e =>{\n    var date = e.target.value;\n    this.setState({date:date}) \n  }\n  submit = e =>{\n    e.preventDefault();\n    var locations = this.state.locations//original \n    // var newlocations = this.state.newlocations;//new location\n    var num = this.state.locations.length;//original \n    var newnum = this.state.newtop;//Input num  \n    var date = this.state.date;//date user input\n    \n    var new_locations = [];//tmp\n    //Both Nothing\n    if(date === '' && newnum===''){\n      this.setState({newlocations:locations})\n    }\n    //if date is nothing\n    if(date === ''){\n     \n      //if num > new location number\n      if(newnum > this.state.locations.length){\n        alert('Number must smaller than the number of element in the list!')\n      }else{\n        //if input is nothing\n        if(newnum === ''){\n          newnum = this.state.locations.length\n        }\n        for(var i = 0; i<newnum; i++){\n          new_locations.push(locations[i])\n        } \n        this.setState({newlocations:new_locations})\n      }   \n    }else{\n        var arr = date.split('-')//user input\n        var arr_next = []\n        var arr_before = []\n  \n        if(this.state.newtop === ''){\n          for(var j=0;j<num;j++){\n            arr_before = locations[j].time.split('-')\n            arr[1] = arr[1].replace('0','')\n            if(arr[0] === arr_before[0] && arr[1] === arr_before[1] && arr[2] === arr_before[2]){\n              arr_next.push(locations[j])\n            }\n          }\n          this.setState({newlocations:arr_next})\n        }else{\n          for(var l=0;l<num;l++){\n            arr_before = locations[l].time.split('-')\n            arr[1] = arr[1].replace('0','')\n            if(arr[0] === arr_before[0] && arr[1] === arr_before[1] && arr[2] === arr_before[2]){\n              arr_next.push(locations[l])\n            }\n          }\n          var datelength = arr_next.length\n          if(newnum > datelength){\n            alert('Number must smaller than the number of element in the list!');\n           \n          }else{\n            var n = (arr_next.length-newnum)-1\n            for(var k=n; k>=0;k--){\n              arr_next.pop()\n            }\n            this.setState({newlocations:arr_next, datelocations:datelength})\n          }\n         \n        }\n    }\n  }\n  render() {\n   \n    var section = null;\n     \n    section = this.state.newlocations && this.state.newlocations.map((next,i) => {\n      return (\n        <li key={i}>\n          {i+1}. Ip Address: {next.ip} - Date: {next.time}\n        </li>\n        )\n    })\n    return(\n        <div className='historylist'>\n         \n          <form className=\"filtertop\" onSubmit={this.submit}>\n            <div className=\"filter\">\n                <input type=\"number\" id=\"top\" onChange={this.top} placeholder=\"Search for top N...\"></input>\n                <p className='error'>{this.state.errtop}</p>\n            </div>\n            <div className=\"filter\">\n                <input type=\"date\" id=\"date\" onChange={this.date} placeholder=\"Search for date...\"></input>\n                <p className='error'>{this.state.errdate}</p>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Search</button>\n          </form>\n          <ol>\n          {section} \n          </ol>\n          \n        </div>\n           \n    \n    )\n  }\n}\n\nexport default withRouter(Historylist);"]},"metadata":{},"sourceType":"module"}