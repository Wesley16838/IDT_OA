{"ast":null,"code":"var _jsxFileName = \"/Users/wesley/Desktop/idt/client/src/Components/historyList.js\";\nimport React, { Component } from 'react'; // import axios from 'axios';\n\nimport { withRouter } from 'react-router-dom';\n\nclass Historylist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.top = e => {\n      var num = e.target.value;\n      this.setState({\n        newtop: num\n      });\n    };\n\n    this.date = e => {\n      var date = e.target.value;\n      this.setState({\n        date: date\n      });\n    };\n\n    this.submit = e => {\n      e.preventDefault();\n      var locations = this.state.locations;\n      var num = this.state.newtop; //3\n\n      var date = this.state.date; //2020-02-13\n\n      var new_locations = [];\n      console.log('in submit');\n\n      if (date === '') {\n        console.log('date nothing');\n\n        if (num > this.state.top) {\n          alert('Number must smaller than the number of element in the list!');\n        } else {\n          for (var i = 0; i < num; i++) {\n            new_locations.push(locations[i]);\n          }\n\n          this.setState({\n            newlocations: new_locations\n          });\n        }\n      } else {\n        console.log('date has something');\n\n        if (num > this.state.top) {\n          alert('Number must smaller than the number of element in the list!');\n        } else {\n          var arr = date.split('-'); //user input\n\n          var arr_next = [];\n          var arr_before = [];\n\n          for (var j = 0; j < this.state.newtop; j++) {\n            arr_before = locations[j].time.split('-');\n\n            if (arr[0] == arr_before[0] && arr[1] == arr_before[1] && arr[2] == arr_before[2]) {\n              arr_next.push(locations[j]);\n            }\n          }\n\n          this.setState({\n            newlocations: arr_next\n          });\n        }\n      }\n    };\n\n    this.state = {\n      locations: this.props.locations.reverse(),\n      top: this.props.locations.length,\n      err: null,\n      newlocations: this.props.locations,\n      newtop: this.props.locations.length,\n      date: ''\n    };\n  }\n\n  render() {\n    console.log(\"in historylist render!!!\");\n    console.log(this.state.newlocations); // console.log('date from server,',this.state.locations[0].time)//Wed Feb 12 2020 14:10:16 GMT-0500 (Eastern Standard Time)\n    // console.log('date from client,',this.state.date)\n\n    var section = null;\n    section = this.state.newlocations && this.state.newlocations.map((next, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, i + 1, \". Ip Address: \", next.ip, \" - Date: \", next.time);\n    });\n    return React.createElement(\"div\", {\n      className: \"historylist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"filtertop\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      id: \"top\",\n      onChange: this.top,\n      placeholder: \"Search for top N...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.errtop)), React.createElement(\"div\", {\n      className: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      id: \"date\",\n      onChange: this.date,\n      placeholder: \"Search for date...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.errdate)), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, section));\n  }\n\n}\n\nexport default withRouter(Historylist);","map":{"version":3,"sources":["/Users/wesley/Desktop/idt/client/src/Components/historyList.js"],"names":["React","Component","withRouter","Historylist","constructor","props","top","e","num","target","value","setState","newtop","date","submit","preventDefault","locations","state","new_locations","console","log","alert","i","push","newlocations","arr","split","arr_next","arr_before","j","time","reverse","length","err","render","section","map","next","ip","errtop","errdate"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import axios from 'axios';\nimport {\n    withRouter\n  } from 'react-router-dom'\nclass Historylist extends Component {\n  constructor(props) {\n   \n    super(props);\n   \n    this.state = {\n       locations:this.props.locations.reverse(),\n       top:this.props.locations.length,\n       err:null,\n       newlocations:this.props.locations,\n       newtop:this.props.locations.length,\n       date:''\n    }\n    \n  }\n  \n  top = e =>{\n    var num = e.target.value;    \n    this.setState({newtop:num}) \n  }\n \n  date = e =>{\n    var date = e.target.value;\n    this.setState({date:date}) \n  }\n  submit = e =>{\n    e.preventDefault();\n    var locations = this.state.locations\n    var num = this.state.newtop;//3\n    var date = this.state.date;//2020-02-13\n    var new_locations = [];\n    console.log('in submit')\n    if(date === ''){\n      console.log('date nothing')\n      \n      if(num > this.state.top){\n        alert('Number must smaller than the number of element in the list!')\n      }else{\n        \n        for(var i = 0; i<num; i++){\n          new_locations.push(locations[i])\n        } \n        this.setState({newlocations:new_locations})\n      }\n        \n    }else{\n      console.log('date has something')\n      if(num > this.state.top){\n        alert('Number must smaller than the number of element in the list!')\n      }else{\n        var arr = date.split('-')//user input\n        var arr_next = []\n        var arr_before = []\n        for(var j=0;j<this.state.newtop;j++){\n          arr_before = locations[j].time.split('-')\n          if(arr[0]==arr_before[0] && arr[1]==arr_before[1] && arr[2]==arr_before[2]){\n            arr_next.push(locations[j])\n          }\n        }\n        this.setState({newlocations:arr_next})\n      }\n    }\n    \n  }\n  render() {\n    console.log(\"in historylist render!!!\")\n    console.log(this.state.newlocations)\n    // console.log('date from server,',this.state.locations[0].time)//Wed Feb 12 2020 14:10:16 GMT-0500 (Eastern Standard Time)\n    // console.log('date from client,',this.state.date)\n   \n    var section = null;\n     \n    section = this.state.newlocations && this.state.newlocations.map((next,i) => {\n      return (\n        <li key={i}>\n          {i+1}. Ip Address: {next.ip} - Date: {next.time}\n        </li>\n        )\n    })\n    return(\n        <div className='historylist'>\n         \n          <form className=\"filtertop\" onSubmit={this.submit}>\n            <div className=\"filter\">\n                <input type=\"number\" id=\"top\" onChange={this.top} placeholder=\"Search for top N...\"></input>\n                <p className='error'>{this.state.errtop}</p>\n            </div>\n            <div className=\"filter\">\n                <input type=\"date\" id=\"date\" onChange={this.date} placeholder=\"Search for date...\"></input>\n                <p className='error'>{this.state.errdate}</p>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Search</button>\n          </form>\n          <ol>\n          {section} \n          </ol>\n          \n        </div>\n           \n    \n    )\n  }\n}\n\nexport default withRouter(Historylist);"]},"metadata":{},"sourceType":"module"}