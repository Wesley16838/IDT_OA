{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/wesley/Desktop/idt/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import Historylist from'./historyList';import{withRouter}from'react-router-dom';var History=/*#__PURE__*/function(_Component){_inherits(History,_Component);function History(props){var _this;_classCallCheck(this,History);_this=_possibleConstructorReturn(this,_getPrototypeOf(History).call(this,props));_this.handleChange=function(e){_this.setState({ip:e.target.value});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{alert('query');e.preventDefault();}catch(e){alert('error: '+e);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={location:[],loading:false};return _this;}_createClass(History,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// var info = await axios.get('/history')\naxios.get('/history').then(function(info){_this2.setState({location:info.data.location,loading:true});});}},{key:\"render\",value:function render(){if(this.state.loading===false){return React.createElement(\"h1\",null,\"Loading\");}else{return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h1\",null,\"History\"),React.createElement(Historylist,{locations:this.state.location}));}}}]);return History;}(Component);export default withRouter(History);","map":{"version":3,"sources":["/Users/wesley/Desktop/idt/client/src/Components/history.js"],"names":["React","Component","axios","Historylist","withRouter","History","props","handleChange","e","setState","ip","target","value","handleSubmit","alert","preventDefault","state","location","loading","get","then","info","data"],"mappings":"gzBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OACIC,UADJ,KAES,kBAFT,C,GAGMC,CAAAA,O,iEACJ,iBAAYC,KAAZ,CAAmB,yCAEjB,yEAAMA,KAAN,GAFiB,MAqBnBC,YArBmB,CAqBJ,SAAAC,CAAC,CAAI,CAElB,MAAKC,QAAL,CAAc,CAACC,EAAE,CAAEF,CAAC,CAACG,MAAF,CAASC,KAAd,CAAd,EACD,CAxBkB,OA0BnBC,YA1BmB,0FA0BJ,iBAAML,CAAN,kHACb,GAAI,CACAM,KAAK,CAAC,OAAD,CAAL,CACAN,CAAC,CAACO,cAAF,GAGH,OAAMP,CAAN,CAAQ,CACLM,KAAK,CAAC,UAAYN,CAAb,CAAL,CACH,CARY,sDA1BI,+DAGjB,MAAKQ,KAAL,CAAa,CACVC,QAAQ,CAAC,EADC,CAEVC,OAAO,CAAC,KAFE,CAAb,CAHiB,aAQlB,C,iFAEoB,iBAEjB;AACAhB,KAAK,CAACiB,GAAN,CAAU,UAAV,EAAsBC,IAAtB,CAA2B,SAAAC,IAAI,CAAE,CAE/B,MAAI,CAACZ,QAAL,CAAc,CAACQ,QAAQ,CAACI,IAAI,CAACC,IAAL,CAAUL,QAApB,CAA8BC,OAAO,CAAC,IAAtC,CAAd,EACD,CAHD,EAMH,C,uCAiBQ,CAEP,GAAG,KAAKF,KAAL,CAAWE,OAAX,GAAuB,KAA1B,CAAgC,CAE9B,MAEE,yCAFF,CAID,CAND,IAMK,CAEH,MACE,4BAAK,SAAS,CAAC,WAAf,EACA,wCADA,CAEG,oBAAC,WAAD,EAAa,SAAS,CAAE,KAAKF,KAAL,CAAWC,QAAnC,EAFH,CADF,CAMD,CAEF,C,qBAvDmBhB,S,EA0DtB,cAAeG,CAAAA,UAAU,CAACC,OAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Historylist from './historyList'\nimport {\n    withRouter\n  } from 'react-router-dom'\nclass History extends Component {\n  constructor(props) {\n   \n    super(props);\n    this.state = {\n       location:[],\n       loading:false\n    }\n    \n  }\n  \n    componentDidMount(){\n     \n      // var info = await axios.get('/history')\n      axios.get('/history').then(info=>{\n   \n        this.setState({location:info.data.location, loading:true})\n      })\n     \n      \n  }\n \n  handleChange = e => {\n   \n    this.setState({ip: e.target.value});\n  };\n\n  handleSubmit = async e => {\n    try {\n        alert('query');\n        e.preventDefault(); \n       \n       \n    }catch(e){\n        alert('error: ' + e);\n    }\n  }\n  render() {\n\n    if(this.state.loading === false){\n     \n      return(\n      \n        <h1>Loading</h1>\n         )\n    }else{\n    \n      return(\n        <div className='container'>\n        <h1>History</h1>\n           <Historylist locations={this.state.location}/>\n        </div>\n    )\n    }\n    \n  }\n}\n\nexport default withRouter(History);"]},"metadata":{},"sourceType":"module"}