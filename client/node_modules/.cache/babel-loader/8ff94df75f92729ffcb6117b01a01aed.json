{"ast":null,"code":"var _jsxFileName = \"/Users/wesley/Desktop/idt/client/src/Components/historyList.js\";\nimport React, { Component } from 'react'; // import axios from 'axios';\n\nimport { withRouter } from 'react-router-dom';\n\nclass Historylist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.top = e => {\n      var num = e.target.value;\n      this.setState({\n        newtop: num\n      });\n    };\n\n    this.date = e => {\n      var date = e.target.value;\n      this.setState({\n        date: date\n      });\n    };\n\n    this.submit = e => {\n      e.preventDefault();\n      var locations = this.state.locations;\n      var num = this.state.newtop; //3\n\n      console.log('new num,', num);\n      var date = this.state.date; //2020-02-13\n\n      var newlocations = this.state.newlocations;\n      var new_locations = [];\n\n      if (date === '') {\n        console.log('date nothing');\n\n        if (num > this.state.newlocations.length) {\n          alert('Number must smaller than the number of element in the list!');\n        } else {\n          if (num == '') {\n            num = this.state.locations.length;\n            console.log('after new num,', num);\n          }\n\n          for (var i = 0; i < num; i++) {\n            new_locations.push(locations[i]);\n          }\n\n          this.setState({\n            newlocations: new_locations\n          });\n        }\n      } else {\n        console.log('date has something');\n\n        if (num > this.state.top) {\n          alert('Number must smaller than the number of element in the list!');\n        } else {\n          var arr = date.split('-'); //user input\n\n          console.log('arr user input,', arr);\n          var arr_next = [];\n          var arr_before = [];\n          console.log('this.state.newtop,', this.state.newtop);\n\n          for (var j = 0; j < this.state.newtop; j++) {\n            arr_before = locations[j].time.split('-');\n            console.log('arr_before,', arr_before);\n            arr[1] = arr[1].replace('0', '');\n\n            if (arr[0] === arr_before[0] && arr[1] === arr_before[1] && arr[2] === arr_before[2]) {\n              arr_next.push(locations[j]);\n            }\n          }\n\n          this.setState({\n            newlocations: arr_next\n          });\n        }\n      }\n    };\n\n    this.state = {\n      locations: this.props.locations.reverse(),\n      newlocations: this.props.locations,\n      top: this.props.locations.length,\n      newtop: this.props.locations.length,\n      err: null,\n      date: ''\n    };\n  }\n\n  render() {\n    console.log(\"in historylist render!!!\");\n    console.log(this.state.newlocations); // console.log('date from server,',this.state.locations[0].time)//Wed Feb 12 2020 14:10:16 GMT-0500 (Eastern Standard Time)\n    // console.log('date from client,',this.state.date)\n\n    var section = null;\n    section = this.state.newlocations && this.state.newlocations.map((next, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, i + 1, \". Ip Address: \", next.ip, \" - Date: \", next.time);\n    });\n    return React.createElement(\"div\", {\n      className: \"historylist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"filtertop\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      id: \"top\",\n      onChange: this.top,\n      placeholder: \"Search for top N...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.state.errtop)), React.createElement(\"div\", {\n      className: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      id: \"date\",\n      onChange: this.date,\n      placeholder: \"Search for date...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.errdate)), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, section));\n  }\n\n}\n\nexport default withRouter(Historylist);","map":{"version":3,"sources":["/Users/wesley/Desktop/idt/client/src/Components/historyList.js"],"names":["React","Component","withRouter","Historylist","constructor","props","top","e","num","target","value","setState","newtop","date","submit","preventDefault","locations","state","console","log","newlocations","new_locations","length","alert","i","push","arr","split","arr_next","arr_before","j","time","replace","reverse","err","render","section","map","next","ip","errtop","errdate"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import axios from 'axios';\nimport {\n    withRouter\n  } from 'react-router-dom'\nclass Historylist extends Component {\n  constructor(props) {\n   \n    super(props);\n   \n    this.state = {\n       locations:this.props.locations.reverse(),\n       newlocations:this.props.locations,\n\n       top:this.props.locations.length,\n       newtop:this.props.locations.length,\n       \n       err:null,\n       date:''\n    }\n    \n  }\n  \n  top = e =>{\n    var num = e.target.value;    \n    this.setState({newtop:num}) \n  }\n \n  date = e =>{\n    var date = e.target.value;\n    this.setState({date:date}) \n  }\n  submit = e =>{\n    e.preventDefault();\n    var locations = this.state.locations\n    var num = this.state.newtop;//3\n    console.log('new num,',num)\n    var date = this.state.date;//2020-02-13\n    var newlocations = this.state.newlocations;\n    var new_locations = [];\n   \n    if(date === ''){\n      console.log('date nothing')\n      \n      if(num > this.state.newlocations.length){\n        alert('Number must smaller than the number of element in the list!')\n      }else{\n        if(num == ''){\n          \n          num = this.state.locations.length\n          console.log('after new num,',num)\n        }\n        for(var i = 0; i<num; i++){\n          new_locations.push(locations[i])\n        } \n        this.setState({newlocations:new_locations})\n      }\n        \n    }else{\n      console.log('date has something')\n      if(num > this.state.top){\n        alert('Number must smaller than the number of element in the list!')\n      }else{\n        var arr = date.split('-')//user input\n        console.log('arr user input,',arr)\n        var arr_next = []\n        var arr_before = []\n        console.log('this.state.newtop,',this.state.newtop)\n        for(var j=0;j<this.state.newtop;j++){\n          arr_before = locations[j].time.split('-')\n          console.log('arr_before,',arr_before)\n          arr[1] = arr[1].replace('0','')\n          if(arr[0] === arr_before[0] && arr[1] === arr_before[1] && arr[2] === arr_before[2]){\n            arr_next.push(locations[j])\n          }\n        }\n        this.setState({newlocations:arr_next})\n      }\n    }\n    \n  }\n  render() {\n    console.log(\"in historylist render!!!\")\n    console.log(this.state.newlocations)\n    // console.log('date from server,',this.state.locations[0].time)//Wed Feb 12 2020 14:10:16 GMT-0500 (Eastern Standard Time)\n    // console.log('date from client,',this.state.date)\n   \n    var section = null;\n     \n    section = this.state.newlocations && this.state.newlocations.map((next,i) => {\n      return (\n        <li key={i}>\n          {i+1}. Ip Address: {next.ip} - Date: {next.time}\n        </li>\n        )\n    })\n    return(\n        <div className='historylist'>\n         \n          <form className=\"filtertop\" onSubmit={this.submit}>\n            <div className=\"filter\">\n                <input type=\"number\" id=\"top\" onChange={this.top} placeholder=\"Search for top N...\"></input>\n                <p className='error'>{this.state.errtop}</p>\n            </div>\n            <div className=\"filter\">\n                <input type=\"date\" id=\"date\" onChange={this.date} placeholder=\"Search for date...\"></input>\n                <p className='error'>{this.state.errdate}</p>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Search</button>\n          </form>\n          <ol>\n          {section} \n          </ol>\n          \n        </div>\n           \n    \n    )\n  }\n}\n\nexport default withRouter(Historylist);"]},"metadata":{},"sourceType":"module"}